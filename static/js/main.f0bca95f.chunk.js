(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{107:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a(15),i=a.n(c),s=(a(107),a(21)),o=a(12),u=a(152),l=a(166),j=a(167),d=a(173),b=a(178),h=a(157),f=a(61),p=a(180),O=a(174),m=a(170),x=a(23),g=a.n(x),v=a(35),y=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];var i=function(){clearTimeout(a),e.apply(void 0,r)};clearTimeout(a),a=setTimeout(i,t)}},C=a(92),T=a(177),w=a(163),k=a(153),I=a(159),S=a(154),F=a(160),N=a(161),D=a(162),E=a(155),L=a(60),z=a(80),M="?apikey=rApDSOJGSKI3RIENouU9pLD2NIbiMKzW",U=a.n(z).a.create({baseURL:"http://dataservice.accuweather.com"}),R=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("".concat("/locations/v1/cities/autocomplete"+M,"&q=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("".concat("/currentconditions/v1","/").concat(t+M));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("".concat("/forecasts/v1/daily/5day","/").concat(t+M,"&metric=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("".concat("/locations/v1/cities/geoposition/search").concat(M,"&q=").concat(t,"%2C%20").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=a(156),P=a(16),W=Object(u.a)({cardContainer:{display:"flex",justifyContent:"center",backgroundColor:"transparent",boxShadow:"none",border:"none",borderRadius:0},cardContent:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}),G=Object(P.b)((function(e){return{isCelsius:e.UI.isCelsius}}))((function(e){var t=W(),a=e.dailyForecasts,r=e.isCelsius,c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.map((function(e,a){var i=new Date(e.Date).getDay();return Object(n.jsx)(k.a,{className:t.cardContainer,children:Object(n.jsxs)(S.a,{className:t.cardContent,children:[Object(n.jsx)(f.a,{variant:"h5",children:c[i]}),e.Temperature.Minimum.Value<16?Object(n.jsx)(E.a,{size:"large"}):Object(n.jsx)(H.a,{size:"large"}),Object(n.jsxs)(f.a,{variant:"subtitle1",children:[e.Temperature.Minimum.Value," -"," ",e.Temperature.Maximum.Value," ",r?"\xb0C":"\xb0F"]})]})},a)}))})),_=a(179),J=a(175),K=a(158),q=Object(u.a)({icon:{fontSize:20},message:{display:"flex",alignItems:"center",fontSize:"15px"}}),Y=function(e){var t=q(),a=e.openSnackbar,r=e.severity,c=e.onClose,i=e.message;return Object(n.jsx)(_.a,{open:a,onClose:c,autoHideDuration:1e4,children:Object(n.jsx)(J.a,{elevation:6,variant:"filled",severity:r,action:Object(n.jsx)(h.a,{onClick:c,children:Object(n.jsx)(K.a,{color:"inherit",className:t.icon})}),className:t.message,children:i})})},Z=Object(r.createContext)(),Q=function(e){var t=Object(r.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(""),b=Object(s.a)(d,2),h=b[0],f=b[1],p=e.children,O=function(){j(!1)};return Object(n.jsxs)(Z.Provider,{value:{openSnackbar:function(e,t){i(e||""),f(t),j(!0)},closeSnackbar:O},children:[Object(n.jsx)(Y,{openSnackbar:l,onClose:O,message:c,severity:h}),p]})},X=function(){return Object(r.useContext)(Z)},$=Object(P.b)((function(e){return{isCelsius:e.UI.isCelsius}}))((function(e){var t=Object(r.useState)(null),a=Object(s.a)(t,2),c=a[0],i=a[1],o=X().openSnackbar,u=e.id,l=e.isCelsius;return Object(r.useEffect)((function(){B(u,l).then((function(e){return i(e.data.DailyForecasts)})).catch((function(e){return o(e.message,"error")}))}),[u,l]),c?Object(n.jsx)(G,{dailyForecasts:c}):Object(n.jsx)(n.Fragment,{})})),ee="ADD_FAVORITE_CITY",te="REMOVE_FAVORITE_CITY",ae="TOGGLE_THEME",ne="TOGGLE_DEGREES",re=Object(u.a)((function(e){return{root:{width:"60%",borderRadius:"10px"},cardContent:{display:"flex",flexDirection:"column",alignItems:"center",padding:0,"&:last-child":{paddingBottom:0}},dailyCardsContainer:{marginTop:"3em",width:"100%",backgroundColor:L.a["light"===e.palette.type?700:800]}}})),ce=Object(P.b)((function(e){return{favorites:e.Favorites.favorites,isCelsius:e.UI.isCelsius}}),(function(e){return{addFavoriteCity:function(t){return e({type:ee,payload:t})},removeFavoriteCity:function(t){return e({type:te,payload:t})}}}))((function(e){var t=re(),a=e.id,r=e.name,c=e.weatherText,i=e.removeFavoriteCity,s=e.addFavoriteCity,o=e.isCelsius,u=e.favorites,l=e.degrees,j=l.celsius,b=l.farenheit,p=u.map((function(e){return e.id})).includes(a);return Object(n.jsxs)(k.a,{className:t.root,children:[Object(n.jsx)(I.a,{title:Object(n.jsxs)(d.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",children:[Object(n.jsx)(F.a,{size:"medium"}),Object(n.jsx)(f.a,{variant:"h5",children:r})]}),action:Object(n.jsx)(h.a,{variant:"contained",size:"medium",onClick:function(){p?i(a):s({id:a,name:r,weatherText:c,degrees:{celsius:j,farenheit:b}})},children:p?Object(n.jsx)(N.a,{}):Object(n.jsx)(D.a,{})})}),Object(n.jsxs)(S.a,{className:t.cardContent,children:[Object(n.jsx)(f.a,{variant:"h3",children:o?j+"\xb0C":b+"\xb0F"}),Object(n.jsx)(E.a,{size:"large"}),Object(n.jsx)(f.a,{variant:"h4",children:c}),Object(n.jsx)(d.a,{display:"flex",justifyContent:"space-evenly",className:t.dailyCardsContainer,children:Object(n.jsx)($,{id:a})})]})]})})),ie=function(e){var t=Object(r.useState)(null),a=Object(s.a)(t,2),c=a[0],i=a[1],o=X().openSnackbar,u=e.id,l=e.name;return Object(r.useEffect)((function(){A(u).then((function(e){return i(e.data[0])})).catch((function(e){return o(e.message,"error")}))}),[u]),c?Object(n.jsx)(ce,{id:u,name:l,degrees:{celsius:c.Temperature.Metric.Value,farenheit:c.Temperature.Imperial.Value},weatherText:c.WeatherText}):Object(n.jsx)(n.Fragment,{})},se=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.background.default,minHeight:"90%"},searchBox:{border:"1px solid #ccc",marginTop:"2%",marginBottom:"2%",padding:"8px",borderRadius:"10px"},searchInput:{fontSize:"1.2em",marginLeft:"2%",width:"100%"}}}),{flip:!1}),oe=function(e){var t=se(),a=e.searchInput,r=e.handleSearchInput,c=e.cityData;return Object(n.jsxs)(C.a,{className:t.root,children:[Object(n.jsxs)(d.a,{display:"flex",alignItems:"center",width:"30%",className:t.searchBox,children:[Object(n.jsx)(w.a,{fontSize:"default",color:"primary"}),Object(n.jsx)(T.a,{placeholder:"Type here a city name",value:a.replace(/[^A-Za-z]/gi,""),onChange:function(e){return r(e)},className:t.searchInput})]}),c?Object(n.jsx)(ie,{id:c.Key,name:c.LocalizedName}):Object(n.jsx)(n.Fragment,{})]})},ue=function(e){var t=Object(r.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(null),u=Object(s.a)(o,2),l=u[0],j=u[1],d=X().openSnackbar,b=e.location;Object(r.useEffect)((function(){if(c){y(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(c).then((function(e){e.data.length?j(e.data[0]):d("Oops! We couldn't find any cities that match your search.","warning")})).catch((function(e){return d(e.message,"error")}));case 1:case"end":return e.stop()}}),e)}))),1e3)()}else{navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){V(e.coords.latitude,e.coords.longitude).then((function(e){return j(e.data)})).catch((function(e){return d(e.message,"error")}))}))}}),[c]),Object(r.useEffect)((function(){var e=new URLSearchParams(b.search).get("cityName");i(e||"")}),[b.search]);return Object(n.jsx)(oe,{searchInput:c,cityData:l,handleSearchInput:function(e){i(e.target.value)}})},le=a(164),je=Object(u.a)({card:{marginTop:"2%"}}),de=Object(P.b)((function(e){return{isCelsius:e.UI.isCelsius}}))((function(e){var t=je(),a=e.navigateToCityCard,r=e.name,c=e.degrees,i=e.isCelsius,s=e.weatherText;return Object(n.jsx)(k.a,{className:t.card,children:Object(n.jsxs)(le.a,{onClick:function(){return a(r)},children:[Object(n.jsx)(I.a,{title:Object(n.jsx)(f.a,{variant:"h4",children:r})}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(H.a,{size:"large"}),Object(n.jsxs)(f.a,{variant:"h6",children:[c," ",i?"\xb0C":"\xb0F"]}),Object(n.jsx)(f.a,{variant:"h5",children:s})]})]})})})),be=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.background.default,minHeight:"90%"},favoritesCardContainer:{marginTop:"5%"}}})),he=Object(P.b)((function(e){return{favorites:e.Favorites.favorites,isCelsius:e.UI.isCelsius}}))((function(e){var t=be(),a=e.history,r=e.favorites,c=e.isCelsius,i=function(e){a.push({pathname:pe.find((function(e){return"Home"===e.label})).route,search:"?cityName=".concat(e)})};return Object(n.jsx)(C.a,{className:t.root,children:Object(n.jsx)(d.a,{display:"flex",justifyContent:"space-evenly",alignItems:"center",textAlign:"center",width:"80%",flexWrap:"wrap",className:t.favoritesCardContainer,children:r.map((function(e,t){return Object(n.jsx)(de,{name:e.name,degrees:c?e.degrees.celsius:e.degrees.farenheit,weatherText:e.weatherText,navigateToCityCard:i},t)}))})})})),fe=a(165),pe=[{label:"Home",route:"/",component:ue,icon:Object(n.jsx)(fe.a,{}),exact:!0},{label:"Favorites",route:"/favorites",component:he,icon:Object(n.jsx)(N.a,{}),exact:!1}],Oe=a(37),me=a(168),xe=a(169),ge=Object(u.a)({appBar:{height:"10%"},toolbarTitle:{fontWeight:"bold"}}),ve=Object(P.b)((function(e){return{isLightTheme:e.UI.isLightTheme,isCelsius:e.UI.isCelsius}}),(function(e){return{toggleTheme:function(){return e({type:ae})},toggleDegrees:function(){return e({type:ne})}}}))((function(e){var t=ge(),a=e.toggleTheme,r=e.isLightTheme,c=e.isCelsius,i=e.toggleDegrees,s=e.selectedTab,o=e.handleSelectedTab;return Object(n.jsx)(l.a,{position:"static",className:t.appBar,children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(d.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[Object(n.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(b.a,{title:"Change theme",children:Object(n.jsx)(h.a,{onClick:a,children:r?Object(n.jsx)(me.a,{}):Object(n.jsx)(xe.a,{})})}),Object(n.jsx)(f.a,{variant:"h6",className:t.toolbarTitle,children:"Herolo Weather Task"})]}),Object(n.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(f.a,{variant:"h4",children:"\u2109"}),Object(n.jsx)(p.a,{checked:c,onChange:i}),Object(n.jsx)(f.a,{variant:"h4",children:"\u2103"})]}),Object(n.jsx)(O.a,{value:s,onChange:o,children:pe.map((function(e,t){return Object(n.jsx)(m.a,{label:Object(n.jsx)(f.a,{variant:"caption",children:e.label}),component:Oe.b,to:e.route,value:e.route,icon:e.icon},t)}))})]})})})})),ye=Object(o.f)((function(e){var t=e.location,a=Object(r.useState)(t.pathname),c=Object(s.a)(a,2),i=c[0],o=c[1];Object(r.useEffect)((function(){t.search.includes("?")&&o(t.pathname)}),[t]);return Object(n.jsx)(ve,{selectedTab:i,handleSelectedTab:function(e,t){o(t)}})})),Ce=a(172),Te=a(88),we=a(19),ke=a(171),Ie={MuiTooltip:{tooltip:{fontSize:"15px"}}},Se={palette:{type:"light",primary:{main:ke.a[800]},secondary:{main:ke.a[200]},background:{default:L.a[200]}},overrides:Object(we.a)(Object(we.a)({},Ie),{},{MuiAppBar:{colorPrimary:{background:ke.a[800],color:"black"}},MuiPaper:{root:{backgroundColor:ke.a[800],color:"black"}}})},Fe={palette:{type:"dark",primary:{main:ke.a[500]},secondary:{main:ke.a[200]}},overrides:Object(we.a)(Object(we.a)({},Ie),{},{MuiAppBar:{colorPrimary:{background:ke.a[900],color:"white"}},MuiPaper:{root:{backgroundColor:ke.a[800],color:"white"}},MuiCard:{root:{border:"1px solid darkgrey"}}})},Ne=Object(P.b)((function(e){return{isLightTheme:e.UI.isLightTheme}}))((function(e){var t=e.isLightTheme,a=Object(Te.a)(t?Se:Fe);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{theme:a,children:Object(n.jsxs)(Q,{children:[Object(n.jsx)(ye,{}),Object(n.jsx)(o.c,{children:pe.map((function(e,t){return Object(n.jsx)(o.a,{path:e.route,component:e.component,exact:e.exact},t)}))})]})})})})),De=a(25),Ee=a(59),Le=a(86),ze=a.n(Le),Me=a(89),Ue={favorites:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(we.a)(Object(we.a)({},e),{},{favorites:[].concat(Object(Me.a)(e.favorites),[t.payload])});case te:return Object(we.a)(Object(we.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.payload}))});default:return e}},Ae={isLightTheme:!0,isCelsius:!0},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(we.a)(Object(we.a)({},e),{},{isLightTheme:!e.isLightTheme});case ne:return Object(we.a)(Object(we.a)({},e),{},{isCelsius:!e.isCelsius});default:return e}},Ve=Object(De.b)({Favorites:Re,UI:Be}),He={key:"rootReducer",storage:ze.a},Pe=Object(Ee.a)(He,Ve),We=Object(De.c)(Pe),Ge=Object(Ee.b)(We),_e=a(87);i.a.render(Object(n.jsx)(P.a,{store:We,children:Object(n.jsx)(Oe.a,{children:Object(n.jsx)(_e.a,{persistor:Ge,children:Object(n.jsx)(Ne,{})})})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.f0bca95f.chunk.js.map